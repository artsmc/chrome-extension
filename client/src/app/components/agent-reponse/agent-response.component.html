<div class="container">
    <div class="row">
        <div class="col-xs-11">
            <h2>Email Assistant</h2>
            <h5>Please choose your setting below:</h5>
        </div>
        <div class="col-xs-11">
            <form [formGroup]="agentResponseForm">
                <div class="row">
                    <div class="col-xs-12">
                        <div class="drop-down1" (click)="openDropdown()">
                            <span>{{toneSelectedValue}}</span>
                            <fa-icon *ngIf="!toggle" [icon]="faChevronDown"></fa-icon>
                            <fa-icon *ngIf="toggle" [icon]="faChevronUp"></fa-icon>
            
                            <ul id="drop-down-list" class="drop-down-list">
                                <li (click)="getTone('Pleasant')">Pleasant</li>
                                <li (click)="getTone('Firm')">Firm</li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-xs-12 d-flex m-top-20">
                        <div class="col-xs-6 col-xs-6 emoji">
                            <input type="text" formControlName="emojiAllowed" class="form-control max-width-250" id="emoji"
                                aria-describedby="Emoji" placeholder="Emoji Allowed">
                        </div>
                        <div class="col-xs-6 col-xs-6  char-limit">
                            <input type="text" formControlName="characterLimit" class="form-control max-width-250" id="emoji"
                                aria-describedby="Emoji" placeholder="Character limit">
                        </div>
                    </div>
                    <ng-container *ngIf="isResponseGenerated">
                        <div class="col-xs-12">
                            <div class="d-flex single-flex">
                                <label>Add More Details</label>
                                <input formControlName="agentContext" type="text" class="form-control" id="context"
                                    placeholder="Add additional details to improve the response.">
                            </div>
                        </div>
                    </ng-container>
                    <div class="col-xs-12">
                        <div class="d-flex single-flex">
                            <div  class="label"><label>Suggested reply</label><fa-icon (click)="refresh()" class="success" [icon]="faArrowsRotate"></fa-icon></div>
                            <ng-container *ngIf="!isLoading; else loader">
                                <textarea class="form-control" formControlName="responseCreated" id="exampleFormControlTextarea1" rows="15"></textarea>
                            </ng-container>
                            <ng-template #loader>
                              <div class="square-load">  <div class="spinner"></div></div>
                            </ng-template>
                            
                            <!-- <fa-icon (click)="refresh()" class="icon-user" [icon]="faRotateRight"></fa-icon> -->
                        </div>
                    </div>
                    <div class="col-xs-12 text-center">
                        <ng-container *ngIf="!isResponseGenerated">
                            <div class="btn-group w-100" role="group">
                                <button type="button" class="btn" (click)="generateResponse()">
                                    <fa-icon class="" [icon]="faCircleChevronLeft"></fa-icon>
                                    <!-- <i class="fa-light fa-circle-chevron-left"></i> -->
                                    Generate
                                </button>
                            </div>
                        </ng-container>
                        <ng-container *ngIf="isResponseGenerated">
                            <div class="btn-group w-100 d-flex" role="group">
                                <div class="col-xs-6">
                                    <button type="button" class="btn" (click)="insertResponse()">
                                        <fa-icon class="" [icon]="faReply"></fa-icon>
                                        Insert
                                    </button>
                                </div>
                                <div class="col-xs-6">
                                    <button type="button" class="btn btn-rotate" (click)="generateResponse()">
                                        <fa-icon class="" [icon]="faArrowsRotate"></fa-icon>
                                        re-generate
                                    </button>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>