"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[939],{5939:(k,l,s)=>{s.r(l),s.d(l,{ForgotModule:()=>C});var c=s(6814),t=s(95),g=s(591),n=s(228),o=s(4769),m=s(6295);function f(e,i){1&e&&(o.TgZ(0,"div"),o._uU(1,"email is required. "),o.qZA())}function p(e,i){1&e&&(o.TgZ(0,"div"),o._uU(1,"You did not supply a valid email address."),o.qZA())}function v(e,i){if(1&e&&(o.TgZ(0,"div",13),o.YNc(1,f,2,0,"div",1),o.YNc(2,p,2,0,"div",1),o.qZA()),2&e){const r=o.oxw(2);o.xp6(1),o.Q6J("ngIf",r.fForgotPassword.email.errors&&r.fForgotPassword.email.errors.required),o.xp6(1),o.Q6J("ngIf",r.fForgotPassword.email.errors&&r.fForgotPassword.email.errors.email)}}const _=function(){return["/login"]},u=function(e){return{"text-danger":e}};function F(e,i){if(1&e){const r=o.EpF();o.ynx(0),o.TgZ(1,"div",2)(2,"h2",3),o._uU(3,"Forgot Password"),o.qZA(),o.TgZ(4,"h5"),o._uU(5,"A link to the reset password page will be sent to the email address you used to sign up. "),o.TgZ(6,"a",4),o._uU(7,"Login"),o.qZA()()(),o.TgZ(8,"form",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"label"),o._uU(13,"Email"),o.qZA(),o._UZ(14,"input",9),o.qZA()(),o.TgZ(15,"div",10),o.YNc(16,v,3,2,"div",11),o.qZA(),o.TgZ(17,"div",2)(18,"button",12),o.NdJ("click",function(){o.CHM(r);const d=o.oxw();return o.KtG(d.forgotPassword())}),o._uU(19," Reset password "),o.qZA()()()(),o.BQk()}if(2&e){const r=o.oxw();o.xp6(6),o.Q6J("routerLink",o.DdM(4,_)),o.xp6(2),o.Q6J("formGroup",r.forgotPasswordForm),o.xp6(6),o.Q6J("ngClass",o.VKq(5,u,r.submitted&&r.fForgotPassword.email.errors)),o.xp6(2),o.Q6J("ngIf",r.fForgotPassword.email.touched&&r.fForgotPassword.email.invalid)}}function w(e,i){1&e&&(o.TgZ(0,"div"),o._uU(1,"code is required. "),o.qZA())}function x(e,i){1&e&&(o.TgZ(0,"div"),o._uU(1,"You did not supply a valid code."),o.qZA())}function h(e,i){if(1&e&&(o.TgZ(0,"div",13),o.YNc(1,w,2,0,"div",1),o.YNc(2,x,2,0,"div",1),o.qZA()),2&e){const r=o.oxw(2);o.xp6(1),o.Q6J("ngIf",r.fverifyPassword.resetNumber.errors&&r.fverifyPassword.resetNumber.errors.required),o.xp6(1),o.Q6J("ngIf",r.fverifyPassword.resetNumber.errors&&r.fverifyPassword.resetNumber.errors.resetNumber)}}function Z(e,i){if(1&e){const r=o.EpF();o.ynx(0),o.TgZ(1,"div",6)(2,"div",2)(3,"h2",3),o._uU(4,"Forgot Password"),o.qZA(),o.TgZ(5,"h5"),o._uU(6,"A code has been sent to your email enter below."),o.qZA()(),o.TgZ(7,"div",2)(8,"form",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"label"),o._uU(13,"Verification Number"),o.qZA(),o._UZ(14,"input",14),o.qZA()(),o.TgZ(15,"div",10),o.YNc(16,h,3,2,"div",11),o.qZA(),o.TgZ(17,"div",2)(18,"button",12),o.NdJ("click",function(){o.CHM(r);const d=o.oxw();return o.KtG(d.verifyCode())}),o._uU(19," Verify Code "),o.qZA()()()(),o.TgZ(20,"button",15),o._uU(21," Back to Log-in "),o.qZA()()(),o.BQk()}if(2&e){const r=o.oxw();o.xp6(8),o.Q6J("formGroup",r.verifyPasswordForm),o.xp6(6),o.Q6J("ngClass",o.VKq(4,u,r.submitted&&r.fForgotPassword.resetNumber.errors)),o.xp6(2),o.Q6J("ngIf",r.fverifyPassword.resetNumber.touched&&r.fverifyPassword.resetNumber.invalid),o.xp6(4),o.Q6J("routerLink","/login")}}function P(e,i){if(1&e&&(o.ynx(0),o.TgZ(1,"div",16)(2,"h5",17),o._uU(3),o.qZA()(),o.BQk()),2&e){const r=o.oxw();o.xp6(3),o.Oqu(r.errorMessage)}}const y=[{path:"",component:(()=>{class e{constructor(r,a,d,T){this.router=r,this.formBuilder=a,this.userService=d,this.route=T,this.submitted=!1,this.isPasswordReset=!1,this.email="",this.errorMessage=null,this.userService.getUserValue()}ngOnInit(){this.initializeForgotPasswordForm()}initializeForgotPasswordForm(){this.forgotPasswordForm=this.formBuilder.group({email:[null,t.kI.compose([t.kI.required,t.kI.email])]})}initializeVerifyPasswordForm(){this.verifyPasswordForm=this.formBuilder.group({email:[null,t.kI.compose([t.kI.required,t.kI.email])],resetNumber:[null,t.kI.compose([t.kI.required,t.kI.min(6)])]})}get fForgotPassword(){return this.forgotPasswordForm.controls}get fverifyPassword(){return this.verifyPasswordForm.controls}forgotPassword(){this.email=this.forgotPasswordForm.value.email,this.userService.forgotPassword(this.email,window.location.href).subscribe(r=>{this.isPasswordReset=!0,this.initializeVerifyPasswordForm(),this.verifyPasswordForm.controls.email.setValue(this.email),this.errorMessage=null},r=>{this.errorMessage=r})}verifyCode(){this.userService.verifyPassword(this.verifyPasswordForm.value).subscribe(r=>{this.route.navigate(["/reset-password",{token:r.token}]),this.errorMessage=null},r=>{this.errorMessage=r})}}return e.\u0275fac=function(r){return new(r||e)(o.Y36(n.F0),o.Y36(t.qu),o.Y36(m.K),o.Y36(n.F0))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-forgot"]],decls:4,vars:3,consts:[[1,"message-container"],[4,"ngIf"],[1,"col-xs-12"],[1,""],["routerLinkActive","router-link-active",3,"routerLink"],[3,"formGroup"],[1,"row"],[1,"col-xs-11"],[1,"d-flex","justify-content-center"],["formControlName","email","type","email","id","email","aria-describedby","emailHelp","placeholder","Enter your email",1,"form-control","max-width-250",3,"ngClass"],[1,"col-xs-11","mt-4"],["class","alert alert-danger",4,"ngIf"],["type","button",1,"btn",3,"click"],[1,"alert","alert-danger"],["type","number","min","6","max","6","formControlName","resetNumber","id","resetNumber","aria-describedby","emailHelp","placeholder","Enter verification code",1,"form-control","max-width-250",3,"ngClass"],["type","button",1,"btn",3,"routerLink"],[1,"error"],[1,"text-danger"]],template:function(r,a){1&r&&(o.TgZ(0,"div",0),o.YNc(1,F,20,7,"ng-container",1),o.YNc(2,Z,22,6,"ng-container",1),o.YNc(3,P,4,1,"ng-container",1),o.qZA()),2&r&&(o.xp6(1),o.Q6J("ngIf",!a.isPasswordReset),o.xp6(1),o.Q6J("ngIf",a.isPasswordReset),o.xp6(1),o.Q6J("ngIf",a.errorMessage))},dependencies:[c.mk,c.O5,n.rH,n.Od,t._Y,t.Fj,t.wV,t.JJ,t.JL,t.qQ,t.Fd,t.sg,t.u],styles:[".message-container[_ngcontent-%COMP%]{width:90%}.error[_ngcontent-%COMP%]{padding:0 20px;border:1px solid red;background-color:#ffdcdc;color:red;border-radius:6px;margin-top:20px}"]}),e})()}];let b=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[n.Bz.forChild(y),n.Bz]}),e})(),C=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[c.ez,n.Bz,t.UX,g.nM.forRoot(),b]}),e})()}}]);