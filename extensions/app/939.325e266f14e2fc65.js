"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[939],{5939:(r,e,o)=>{o.r(e),o.d(e,{ForgotModule:()=>x});var s=o(6814),i=o(95),t=o(591),n=o(228),a=o(4769),d=o(6295);function u(r,e){1&r&&(a.TgZ(0,"div"),a._uU(1,"email is required. "),a.qZA())}function l(r,e){1&r&&(a.TgZ(0,"div"),a._uU(1,"You did not supply a valid email address."),a.qZA())}function c(r,e){if(1&r&&(a.TgZ(0,"div",13),a.YNc(1,u,2,0,"div",1),a.YNc(2,l,2,0,"div",1),a.qZA()),2&r){const r=a.oxw(2);a.xp6(1),a.Q6J("ngIf",r.fForgotPassword.email.errors&&r.fForgotPassword.email.errors.required),a.xp6(1),a.Q6J("ngIf",r.fForgotPassword.email.errors&&r.fForgotPassword.email.errors.email)}}const f=function(){return["/login"]},m=function(r){return{"text-danger":r}};function g(r,e){if(1&r){const r=a.EpF();a.ynx(0),a.TgZ(1,"div",2)(2,"h2",3),a._uU(3,"Forgot Password"),a.qZA(),a.TgZ(4,"h5"),a._uU(5,"A link to the reset password page will be sent to the email address you used to sign up. "),a.TgZ(6,"a",4),a._uU(7,"Login"),a.qZA()()(),a.TgZ(8,"form",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"label"),a._uU(13,"Email"),a.qZA(),a._UZ(14,"input",9),a.qZA()(),a.TgZ(15,"div",10),a.YNc(16,c,3,2,"div",11),a.qZA(),a.TgZ(17,"div",2)(18,"button",12),a.NdJ("click",(function(){a.CHM(r);const e=a.oxw();return a.KtG(e.forgotPassword())})),a._uU(19," Reset password "),a.qZA()()()(),a.BQk()}if(2&r){const r=a.oxw();a.xp6(6),a.Q6J("routerLink",a.DdM(4,f)),a.xp6(2),a.Q6J("formGroup",r.forgotPasswordForm),a.xp6(6),a.Q6J("ngClass",a.VKq(5,m,r.submitted&&r.fForgotPassword.email.errors)),a.xp6(2),a.Q6J("ngIf",r.fForgotPassword.email.touched&&r.fForgotPassword.email.invalid)}}function p(r,e){1&r&&(a.TgZ(0,"div"),a._uU(1,"code is required. "),a.qZA())}function w(r,e){1&r&&(a.TgZ(0,"div"),a._uU(1,"You did not supply a valid code."),a.qZA())}function v(r,e){if(1&r&&(a.TgZ(0,"div",13),a.YNc(1,p,2,0,"div",1),a.YNc(2,w,2,0,"div",1),a.qZA()),2&r){const r=a.oxw(2);a.xp6(1),a.Q6J("ngIf",r.fverifyPassword.resetNumber.errors&&r.fverifyPassword.resetNumber.errors.required),a.xp6(1),a.Q6J("ngIf",r.fverifyPassword.resetNumber.errors&&r.fverifyPassword.resetNumber.errors.resetNumber)}}function h(r,e){if(1&r){const r=a.EpF();a.ynx(0),a.TgZ(1,"div",6)(2,"div",2)(3,"h2",3),a._uU(4,"Forgot Password"),a.qZA(),a.TgZ(5,"h5"),a._uU(6,"A code has been sent to your email enter below."),a.qZA()(),a.TgZ(7,"div",2)(8,"form",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"label"),a._uU(13,"Verification Number"),a.qZA(),a._UZ(14,"input",14),a.qZA()(),a.TgZ(15,"div",10),a.YNc(16,v,3,2,"div",11),a.qZA(),a.TgZ(17,"div",2)(18,"button",12),a.NdJ("click",(function(){a.CHM(r);const e=a.oxw();return a.KtG(e.verifyCode())})),a._uU(19," Verify Code "),a.qZA()()()(),a.TgZ(20,"button",15),a._uU(21," Back to Log-in "),a.qZA()()(),a.BQk()}if(2&r){const r=a.oxw();a.xp6(8),a.Q6J("formGroup",r.verifyPasswordForm),a.xp6(6),a.Q6J("ngClass",a.VKq(4,m,r.submitted&&r.fForgotPassword.resetNumber.errors)),a.xp6(2),a.Q6J("ngIf",r.fverifyPassword.resetNumber.touched&&r.fverifyPassword.resetNumber.invalid),a.xp6(4),a.Q6J("routerLink","/login")}}function Z(r,e){if(1&r&&(a.ynx(0),a.TgZ(1,"div",16)(2,"h5",17),a._uU(3),a.qZA()(),a.BQk()),2&r){const r=a.oxw();a.xp6(3),a.Oqu(r.errorMessage)}}const b=[{path:"",component:(()=>{class r{constructor(r,e,o,s){this.router=r,this.formBuilder=e,this.userService=o,this.route=s,this.submitted=!1,this.isPasswordReset=!1,this.email="",this.errorMessage=null,this.userService.getUserValue()}ngOnInit(){this.initializeForgotPasswordForm()}initializeForgotPasswordForm(){this.forgotPasswordForm=this.formBuilder.group({email:[null,i.kI.compose([i.kI.required,i.kI.email])]})}initializeVerifyPasswordForm(){this.verifyPasswordForm=this.formBuilder.group({email:[null,i.kI.compose([i.kI.required,i.kI.email])],resetNumber:[null,i.kI.compose([i.kI.required,i.kI.min(6)])]})}get fForgotPassword(){return this.forgotPasswordForm.controls}get fverifyPassword(){return this.verifyPasswordForm.controls}forgotPassword(){this.email=this.forgotPasswordForm.value.email,this.userService.forgotPassword(this.email,window.location.href).subscribe((r=>{this.isPasswordReset=!0,this.initializeVerifyPasswordForm(),this.verifyPasswordForm.controls.email.setValue(this.email),this.errorMessage=null}),(r=>{this.errorMessage=r}))}verifyCode(){this.userService.verifyPassword(this.verifyPasswordForm.value).subscribe((r=>{this.route.navigate(["/reset-password",{token:r.token}]),this.errorMessage=null}),(r=>{this.errorMessage=r}))}}return r.ɵfac=function(e){return new(e||r)(a.Y36(n.F0),a.Y36(i.qu),a.Y36(d.K),a.Y36(n.F0))},r.ɵcmp=a.Xpm({type:r,selectors:[["app-forgot"]],decls:4,vars:3,consts:[[1,"message-container"],[4,"ngIf"],[1,"col-xs-12"],[1,""],["routerLinkActive","router-link-active",3,"routerLink"],[3,"formGroup"],[1,"row"],[1,"col-xs-11"],[1,"d-flex","justify-content-center"],["formControlName","email","type","email","id","email","aria-describedby","emailHelp","placeholder","Enter your email",1,"form-control","max-width-250",3,"ngClass"],[1,"col-xs-11","mt-4"],["class","alert alert-danger",4,"ngIf"],["type","button",1,"btn",3,"click"],[1,"alert","alert-danger"],["type","number","min","6","max","6","formControlName","resetNumber","id","resetNumber","aria-describedby","emailHelp","placeholder","Enter verification code",1,"form-control","max-width-250",3,"ngClass"],["type","button",1,"btn",3,"routerLink"],[1,"error"],[1,"text-danger"]],template:function(r,e){1&r&&(a.TgZ(0,"div",0),a.YNc(1,g,20,7,"ng-container",1),a.YNc(2,h,22,6,"ng-container",1),a.YNc(3,Z,4,1,"ng-container",1),a.qZA()),2&r&&(a.xp6(1),a.Q6J("ngIf",!e.isPasswordReset),a.xp6(1),a.Q6J("ngIf",e.isPasswordReset),a.xp6(1),a.Q6J("ngIf",e.errorMessage))},dependencies:[s.mk,s.O5,n.rH,n.Od,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.qQ,i.Fd,i.sg,i.u],styles:[".message-container[_ngcontent-%COMP%]{width:90%}.error[_ngcontent-%COMP%]{padding:0 20px;border:1px solid red;background-color:#ffdcdc;color:red;border-radius:6px;margin-top:20px}"]}),r})()}];let P=(()=>{class r{}return r.ɵfac=function(e){return new(e||r)},r.ɵmod=a.oAB({type:r}),r.ɵinj=a.cJS({imports:[n.Bz.forChild(b),n.Bz]}),r})(),x=(()=>{class r{}return r.ɵfac=function(e){return new(e||r)},r.ɵmod=a.oAB({type:r}),r.ɵinj=a.cJS({imports:[s.ez,n.Bz,i.UX,t.nM.forRoot(),P]}),r})()}}]);